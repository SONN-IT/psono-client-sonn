<!DOCTYPE html>
<html ng-app="passwordManagerApp">
<head>
    <title>Addon Window</title>
    <link href="css/lib/bootstrap.min.css" rel="stylesheet">
    <link href="css/main.css" rel="stylesheet">
</head>
<body ng-controller="MainCtrl">

<div ng-if="loggedin">
    <form name="searchForm">
        <div class="form-group">
            <input id="datastoresearch" name="datastoresearch" class="form-control" ng-model="datastore.search"
                   placeholder="Search datastore...">
        </div>
        <ul>
            <li ng-repeat="searchEntry in searchArray | filter:filterBySearch">
                {{ searchEntry }}
            </li>
        </ul>
        {{ datastore.search }}

        <hr>
        <a href="/data/datastore.html" target="_blank">Open Datastore</a>
        <hr>
        <a href="/help" target="_blank">Help</a><br>
        <a href="/about" target="_blank">About</a>
        <hr>

        <div class="btn-group">
            <button ng-click="logout()" type="submit" class="btn btn-danger">Logout</button>
        </div>
        logged in

</div>
<div ng-if="!loggedin">
    <!-- Not logged in, show the login form -->
    <form name="loginForm">
        <div class="form-group">
            <label for="loginEmail">E-Mail address</label>
            <input type="email" class="form-control" id="loginEmail" placeholder="Email" ng-model="loginFormEmail" required>
        </div>
        <div class="form-group">
            <label for="loginPassword">Password</label>
            <input type="password" class="form-control" id="loginPassword" placeholder="Password" ng-model="loginFormPassword" required>
        </div>

        <div class="btn-group">
            <button ng-click="login(loginFormEmail, loginFormPassword)" type="submit" class="btn btn-danger">Login</button>
        </div>
        <span ng-repeat="e in errors">{{e}}</span>

    </form>
</div>
<div>




    <!-- Start of scripts -->
    <script src="js/lib/nacl_factory.js" type="text/javascript"></script>
    <script src="js/lib/scrypt.js" type="text/javascript"></script>

    <!-- Angular Juju -->
    <script src="js/lib/angular.min.js" type="application/javascript"></script>

    <script src="js/main.js" type="application/javascript"></script>

    <script src="js/service/apiclient.js" type="application/javascript"></script>
    <!-- End Angular Juju -->
</body>
</html>