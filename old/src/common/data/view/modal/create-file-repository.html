<form name="modalCreateFileRepositoryForm" novalidate autocomplete="off">
    <div class="modal-header">
        <button type="button" class="close" ng-click="cancel()"><span aria-hidden="true">&times;</span></button>
        <h3 class="modal-title">{{'CREATE_NEW_FILE_REPOSITORY' | translate}}</h3>
    </div>
    <div class="modal-body">
        <div class="form-group" ng-class="{true: 'has-error'}[submitted && modalCreateFileRepositoryForm.title.$invalid]">
            <input type="text" name="title" class="form-control" id="folderName" placeholder="{{'TITLE' | translate}}" ng-model="title" required autofocus>
            <p class="help-block" ng-show="submitted && modalCreateFileRepositoryForm.title.$error.required">{{'TITLE_IS_REQUIRED' | translate}}</p>
        </div>

        <div class="form-group">
            <select class="form-control" ng-model="selected_type">
                <option ng-repeat="x in types" value="{{x.value}}">{{x.title}}</option>
            </select>
        </div>


        <div ng-if="selected_type === 'gcp_cloud_storage'">
            <div class="form-group">
                <input type="text" name="gcp_cloud_storage_bucket" class="form-control" id="gcp_cloud_storage_bucket" placeholder="{{'BUCKET' | translate}}" ng-model="storage_config.gcp_cloud_storage_bucket">
            </div>

            <div class="form-group">
                <textarea class="form-control"
                          placeholder="{{'JSON_KEY' | translate}}"
                          ng-model="storage_config.gcp_cloud_storage_json_key"></textarea>

            </div>
        </div>


        <div ng-if="selected_type === 'aws_s3'">
            <div class="form-group">
                <input type="text" name="aws_s3_bucket" class="form-control" id="aws_s3_bucket" placeholder="{{'BUCKET' | translate}}" ng-model="storage_config.aws_s3_bucket">
            </div>
            <div class="form-group">
                <input type="text" name="aws_s3_region" class="form-control" id="aws_s3_region" placeholder="{{'REGION' | translate}}" ng-model="storage_config.aws_s3_region">
            </div>
            <div class="form-group">
                <input type="text" name="aws_s3_access_key_id" class="form-control" id="aws_s3_access_key_id" placeholder="{{'ACCESS_KEY_ID' | translate}}" ng-model="storage_config.aws_s3_access_key_id">
            </div>
            <div class="form-group">
                <input type="text" name="aws_s3_secret_access_key" class="form-control" id="aws_s3_secret_access_key" placeholder="{{'SECRET_ACCESS_KEY' | translate}}" ng-model="storage_config.aws_s3_secret_access_key">
            </div>
        </div>

        <div ng-if="selected_type === 'azure_blob'">
            <div class="form-group">
                <input type="text" name="azure_blob_storage_account_name" class="form-control" id="azure_blob_storage_account_name" placeholder="{{'ACCOUNT_NAME' | translate}}" ng-model="storage_config.azure_blob_storage_account_name">
            </div>
            <div class="form-group">
                <input type="text" name="azure_blob_storage_account_primary_key" class="form-control" id="azure_blob_storage_account_primary_key" placeholder="{{'PRIMARY_KEY' | translate}}" ng-model="storage_config.azure_blob_storage_account_primary_key">
            </div>
            <div class="form-group">
                <input type="text" name="azure_blob_storage_account_container_name" class="form-control" id="azure_blob_storage_account_container_name" placeholder="{{'CONTAINER_NAME' | translate}}" ng-model="storage_config.azure_blob_storage_account_container_name">
            </div>
        </div>


        <div ng-if="selected_type === 'backblaze'">
            <div class="form-group">
                <input type="text" name="backblaze_bucket" class="form-control" id="backblaze_bucket" placeholder="{{'BUCKET' | translate}}" ng-model="storage_config.backblaze_bucket">
            </div>
            <div class="form-group">
                <input type="text" name="backblaze_region" class="form-control" id="backblaze_region" placeholder="{{'REGION' | translate}}" ng-model="storage_config.backblaze_region">
            </div>
            <div class="form-group">
                <input type="text" name="backblaze_access_key_id" class="form-control" id="backblaze_access_key_id" placeholder="{{'ACCESS_KEY_ID' | translate}}" ng-model="storage_config.backblaze_access_key_id">
            </div>
            <div class="form-group">
                <input type="text" name="backblaze_secret_access_key" class="form-control" id="backblaze_secret_access_key" placeholder="{{'SECRET_ACCESS_KEY' | translate}}" ng-model="storage_config.backblaze_secret_access_key">
            </div>
        </div>


        <div ng-if="selected_type === 'other_s3'">
            <div class="form-group">
                <input type="text" name="other_s3_bucket" class="form-control" id="other_s3_bucket" placeholder="{{'BUCKET' | translate}}" ng-model="storage_config.other_s3_bucket">
            </div>
            <div class="form-group">
                <input type="text" name="other_s3_region" class="form-control" id="other_s3_region" placeholder="{{'REGION' | translate}}" ng-model="storage_config.other_s3_region">
            </div>
            <div class="form-group">
                <input type="text" name="other_s3_endpoint_url" class="form-control" id="other_s3_endpoint_url" placeholder="{{'URL' | translate}}" ng-model="storage_config.other_s3_endpoint_url">
            </div>
            <div class="form-group">
                <input type="text" name="other_s3_access_key_id" class="form-control" id="other_s3_access_key_id" placeholder="{{'ACCESS_KEY_ID' | translate}}" ng-model="storage_config.other_s3_access_key_id">
            </div>
            <div class="form-group">
                <input type="text" name="other_s3_secret_access_key" class="form-control" id="other_s3_secret_access_key" placeholder="{{'SECRET_ACCESS_KEY' | translate}}" ng-model="storage_config.other_s3_secret_access_key">
            </div>
        </div>


        <div ng-if="selected_type === 'do_spaces'">
            <div class="form-group">
                <input type="text" name="do_space" class="form-control" id="do_space" placeholder="{{'SPACE' | translate}}" ng-model="storage_config.do_space">
            </div>
            <div class="form-group">
                <input type="text" name="do_region" class="form-control" id="do_region" placeholder="{{'REGION' | translate}}" ng-model="storage_config.do_region">
            </div>
            <div class="form-group">
                <input type="text" name="do_key" class="form-control" id="do_key" placeholder="{{'KEY' | translate}}" ng-model="storage_config.do_key">
            </div>
            <div class="form-group">
                <input type="text" name="do_secret" class="form-control" id="do_secret" placeholder="{{'SECRET' | translate}}" ng-model="storage_config.do_secret">
            </div>
        </div>

        <div class="form-group alert alert-danger" ng-repeat="e in errors">
            <strong>{{'ERROR' | translate}}:</strong> <span translate="{{ e  | translate}}"></span>
        </div>

    </div>

    <div class="modal-footer">
        <button class="btn" type="button" ng-click="cancel();">{{'CLOSE' | translate}}</button>
        <button class="btn btn-primary" type="submit" ng-click="submitted=true;save()">{{'CREATE' | translate}}</button>
    </div>
</form>